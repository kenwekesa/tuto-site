{% extends 'admin.html' %} {% load static %}
{% block content %}
<!--Main content-->
  <div class="main-content">
      <header>
         <div class="bg-primary mt-0 mb-0 pt-2 pr-2 pl-2" >
           <h3 style="color:white" class="mr-4" id="timer"> 
           <label>
              <span class="fa fa-bars"></span>
           </lable>
           
           
           </h3>
           </div>

           
 <div class="user-wrapper">
               <!--<img src="images/crypto.jpg" height = "40" width="40" alt=""/>-->
                <div class ="d-flex flex-row" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
               <span class="fa fa-user-circle"></span>
               <div class="username">
                    {{user.get_username}}

                    <span class="fas fa-caret-down my-auto" style="font-size:18px;margin-left: 2px"></span>
               </div>
                </div>

                <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                  <li><a class="dropdown-item" href="{% url 'logout' %}">Logout</a></li>
                  <li><a class="dropdown-item" href="#">Edit profile</a></li>
                 
                </ul>
           </div>
      </header>

     <div class="container mt-5">
    <div class="main-body">
    
         
          <!-- /Breadcrumb -->
    
          <div class="row gutters-sm">
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex flex-column align-items-center text-center">
                    <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin" class="rounded-circle" width="150">
                    <div class="mt-3">
                      <h4>Client</h4>
                      <p class="text-secondary mb-1">Name: {{order.client.first_name}} {{order.client.last_name}}</p>
                      <p class="text-muted font-size-sm">Email address: {{order.client.emailAddress}}</p>
                      
                    </div>
                  </div>
                </div>
              </div>


              <div class="card mt-3 pr-2 pl-2">
                <a class="btn btn-danger mt-2 col-md-8" target="__blank" href="#">Mark assignment as done.</a>
               <a class="btn btn-primary mt-2 ml-2 mr-2 col-md-8" target="__blank" href="#">Upload done assignment</a>
              </div>
            
            </div>
            <div class="col-md-8">
              <div class="card mb-3 pt-3 pb-3 pl-3 text-align-center">
                    <div class="card-body">
                         <h3>Order Number: <span style="color:maroon; font-weight:bold">{{order.number}}</span></h3>
                    </div>
                 
              </div>
              <div class="card mb-3">
                <div class="card-body">
                <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Subject</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{order.subject}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Topic</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{order.topic}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Prefered Spacing</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{order.prefered_spacing.value}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Number of pages</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{order.number_of_pages}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Powerpoint Slides</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                         {{order.powerpoint_slides}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Number of sources</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                         {{order.number_of_sources}}
                    </div>
                  </div>

                    <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Deadline</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                         {{order.deadline}}
                    </div>
                  </div>

                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Assignment File</h6>
                    </div>
                    <div class="col-sm-6 text-secondary">
                         {{order.assignment_file}}
                    </div>
                    <div class="col-sm-3 text-secondary">
                         <a class="btn btn-warning " target="__blank" href="{{order.assignment_file}}">download file</a>
                    </div>
                  </div>
                  <hr>
                  
                </div>
              </div>

              <div class="row gutters-sm">
                <div class="col-sm-12 mb-3">
                  <div class="card h-100">
                    <div class="card-body">
                      <h3 class="d-flex align-items-center mb-3"><i class="material-icons text-info mr-2">assignment</i>Assignment Details</h3>
                      <p>{{order.assignment_details}}
                    </div>
                  </div>
                </div>
              
              </div>



            </div>
          </div>

        </div>
    </div>
  </div>


<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

<script>
// Set the date we're counting down to
var countDownDate = new Date("{{order.deadline.isoformat}}").getTime();


// Update the count down every 1 second
var x = setInterval(function() {

  // Get today's date and time
  var now = new Date().getTime();

  // Find the distance between now and the count down date
  var distance = countDownDate - now;

  // Time calculations for days, hours, minutes and seconds
  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  // Display the result in the element with id="demo"
  document.getElementById("timer").innerHTML ="To Deadline: "+ days + "d " + hours + "h "
  + minutes + "m " + seconds + "s ";

  // If the count down is finished, write some text
  if (distance < 0) {
    clearInterval(x);
    document.getElementById("timer").innerHTML = "EXPIRED";
  }
}, 1000);
</script>
  {% endblock %}